2019-08-15 13:26:21.003 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 13:26:21.166 +02:00 [INF] Creating key "18d700ae-59a7-4da6-b3ff-92b59c8ab10d" with creation date "2019-08-15T11:26:21.1641842+00:00", activation date "2019-08-15T11:26:21.0594057+00:00", and expiration date "2019-11-13T11:26:21.0594057+00:00".
2019-08-15 13:26:21.204 +02:00 [INF] Writing data to file 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys\key-18d700ae-59a7-4da6-b3ff-92b59c8ab10d.xml'.
2019-08-15 13:26:21.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 13:26:21.630 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 13:26:21.797 +02:00 [INF] HTTP GET /index.html responded 200 in 131.9031 ms
2019-08-15 13:26:21.799 +02:00 [INF] Request finished in 183.3448ms 200 text/html
2019-08-15 13:26:22.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 13:26:22.086 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 73.5674 ms
2019-08-15 13:26:22.086 +02:00 [INF] Request finished in 73.9837ms 200 application/json;charset=utf-8
2019-08-15 13:26:39.443 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 13:26:39.447 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:26:39.463 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 13:26:39.471 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 5.6014ms
2019-08-15 13:26:39.471 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:26:39.471 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'Klient.WebAPI.Controllers.KlientController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 13:26:39.538 +02:00 [INF] Request finished in 95.4582ms 500 text/html; charset=utf-8
2019-08-15 13:26:50.243 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 13:26:50.244 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 13:26:50.246 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 13:26:50.250 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 13:26:50.594 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 13:26:50.784 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 13:26:50.823 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 571.6303ms.
2019-08-15 13:26:50.830 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 13:26:50.835 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 589.0098ms
2019-08-15 13:26:50.836 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 13:26:50.837 +02:00 [INF] Request finished in 594.4748ms 200 application/json; charset=utf-8
2019-08-15 13:28:02.570 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 13:28:02.674 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 13:28:02.679 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 13:28:02.681 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 13:28:02.684 +02:00 [INF] Applying migration '20190807094429_1'.
2019-08-15 13:28:02.688 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190807094429_1', N'2.2.6-servicing-10079');
2019-08-15 13:28:08.238 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 13:28:08.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 13:28:08.544 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 13:28:08.660 +02:00 [INF] HTTP GET /index.html responded 200 in 82.7903 ms
2019-08-15 13:28:08.666 +02:00 [INF] Request finished in 130.1741ms 200 text/html
2019-08-15 13:28:08.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 13:28:08.882 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 71.6079 ms
2019-08-15 13:28:08.883 +02:00 [INF] Request finished in 71.9563ms 200 application/json;charset=utf-8
2019-08-15 13:28:12.023 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 13:28:12.027 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:28:12.039 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 13:28:12.045 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 3.7058ms
2019-08-15 13:28:12.045 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:28:12.045 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Serilog.ILogger' while attempting to activate 'Klient.WebAPI.Controllers.KlientController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 13:28:12.085 +02:00 [INF] Request finished in 61.1199ms 500 text/html; charset=utf-8
2019-08-15 13:28:30.499 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 13:28:30.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 13:28:30.857 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 13:28:30.979 +02:00 [INF] HTTP GET /index.html responded 200 in 85.03670000000001 ms
2019-08-15 13:28:30.984 +02:00 [INF] Request finished in 135.4065ms 200 text/html
2019-08-15 13:28:31.057 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 13:28:31.128 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.918500000000009 ms
2019-08-15 13:28:31.129 +02:00 [INF] Request finished in 71.3058ms 200 application/json;charset=utf-8
2019-08-15 13:28:36.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 13:28:36.261 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:28:36.277 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 13:28:36.283 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 13:28:36.511 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 13:28:36.660 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 13:28:36.693 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 407.4495ms.
2019-08-15 13:28:36.700 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 13:28:36.706 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 427.4105ms
2019-08-15 13:28:36.707 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 13:28:36.708 +02:00 [INF] Request finished in 452.5677ms 200 application/json; charset=utf-8
2019-08-15 14:09:03.554 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 14:09:03.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 14:09:03.946 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 14:09:04.067 +02:00 [INF] HTTP GET /index.html responded 200 in 85.485700000000008 ms
2019-08-15 14:09:04.074 +02:00 [INF] Request finished in 136.2976ms 200 text/html
2019-08-15 14:09:04.147 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 14:09:04.218 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.8869 ms
2019-08-15 14:09:04.218 +02:00 [INF] Request finished in 71.2388ms 200 application/json;charset=utf-8
2019-08-15 14:09:32.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 14:09:32.865 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:09:32.881 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:09:32.888 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:09:33.115 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:09:33.259 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 14:09:33.292 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 401.7316ms.
2019-08-15 14:09:33.299 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:09:33.305 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 421.9307ms
2019-08-15 14:09:33.306 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:09:33.307 +02:00 [INF] Request finished in 447.8136ms 200 application/json; charset=utf-8
2019-08-15 14:09:58.308 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 21
2019-08-15 14:09:58.309 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:09:58.318 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:09:58.339 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:09:58.376 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:09:58.401 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:09:58.447 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [AdresId] = @p0, [Imie] = @p1, [Nazwisko] = @p2, [Pesel] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:09:58.476 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:09:58.561 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 243.0277ms
2019-08-15 14:09:58.561 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:09:58.561 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateKlientCommandHandler.Handle(UpdateKlientCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateKlientCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:09:58.605 +02:00 [INF] Request finished in 296.894ms 500 text/html; charset=utf-8
2019-08-15 14:10:44.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968  
2019-08-15 14:10:44.499 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 14:10:44.503 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:10:44.504 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:10:44.508 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:10:44.517 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 14:10:44.517 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 13.5218ms.
2019-08-15 14:10:44.518 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.Model.Entities.KlientEntity'.
2019-08-15 14:10:44.518 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 14.543000000000001ms
2019-08-15 14:10:44.518 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 14:10:44.518 +02:00 [INF] Request finished in 19.4695ms 200 application/json; charset=utf-8
2019-08-15 14:10:44.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/favicon.ico  
2019-08-15 14:10:44.557 +02:00 [INF] HTTP GET /favicon.ico responded 404 in 5.8023000000000007 ms
2019-08-15 14:10:44.558 +02:00 [INF] Request finished in 6.8349ms 404 
2019-08-15 14:11:17.342 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 20
2019-08-15 14:11:17.342 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:17.344 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:11:17.344 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:11:17.344 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:11:17.352 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:11:17.357 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [AdresId] = @p0, [Imie] = @p1, [Nazwisko] = @p2, [Pesel] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:11:17.359 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:11:17.413 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 69.1588ms
2019-08-15 14:11:17.413 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:17.413 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateKlientCommandHandler.Handle(UpdateKlientCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateKlientCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:11:17.422 +02:00 [INF] Request finished in 79.9329ms 500 text/html; charset=utf-8
2019-08-15 14:11:17.728 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 20
2019-08-15 14:11:17.728 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:17.728 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:11:17.728 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:11:17.729 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:11:17.730 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:11:17.735 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [AdresId] = @p0, [Imie] = @p1, [Nazwisko] = @p2, [Pesel] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:11:17.737 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:11:17.790 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 62.1128ms
2019-08-15 14:11:17.791 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:17.791 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateKlientCommandHandler.Handle(UpdateKlientCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateKlientCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:11:17.799 +02:00 [INF] Request finished in 70.8106ms 500 text/html; charset=utf-8
2019-08-15 14:11:19.696 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 20
2019-08-15 14:11:19.697 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:19.697 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:11:19.697 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:11:19.697 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:11:19.698 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:11:19.701 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [AdresId] = @p0, [Imie] = @p1, [Nazwisko] = @p2, [Pesel] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:11:19.702 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:11:19.757 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 60.0189ms
2019-08-15 14:11:19.757 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:11:19.757 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateKlientCommandHandler.Handle(UpdateKlientCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateKlientCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:11:19.765 +02:00 [INF] Request finished in 68.5815ms 500 text/html; charset=utf-8
2019-08-15 14:11:56.958 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 14:11:56.958 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:11:56.961 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 14:11:56.961 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:11:56.965 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:11:56.976 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 14:11:56.980 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.107100000000003ms.
2019-08-15 14:11:56.980 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:11:56.982 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 21.0887ms
2019-08-15 14:11:56.982 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:11:56.982 +02:00 [INF] Request finished in 23.825ms 200 application/json; charset=utf-8
2019-08-15 14:12:22.742 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Adres/fe4f0c90-d0ec-4d7a-1873-08d719100ec8 application/json-patch+json 21
2019-08-15 14:12:22.742 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI)'
2019-08-15 14:12:22.744 +02:00 [INF] Route matched with {action = "UpdateAdres", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAdres(System.Guid, Klient.WebAPI.Models.UpdateAdresModel) on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 14:12:22.745 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:12:22.751 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:12:22.760 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Model_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [adres].[Id], [adres].[Miasto], [adres].[NrDomu], [adres].[NrMieszkania], [adres].[Ulica]
FROM [Adres] AS [adres]
WHERE [adres].[Id] = @__request_Model_Id_0
2019-08-15 14:12:22.766 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Adres] SET [Miasto] = @p0, [NrDomu] = @p1, [NrMieszkania] = @p2, [Ulica] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Miasto', table 'KlientApp.dbo.Adres'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:12:22.768 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Miasto', table 'KlientApp.dbo.Adres'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Miasto', table 'KlientApp.dbo.Adres'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:12:22.823 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI) in 78.2381ms
2019-08-15 14:12:22.823 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI)'
2019-08-15 14:12:22.823 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Miasto', table 'KlientApp.dbo.Adres'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateAdresCommandHandler.Handle(UpdateAdresCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateAdresCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.AdresController.UpdateAdres(Guid id, UpdateAdresModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\AdresController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:12:22.841 +02:00 [INF] Request finished in 99.4679ms 500 text/html; charset=utf-8
2019-08-15 14:13:06.202 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Adres/fe4f0c90-d0ec-4d7a-1873-08d719100ec8 application/json-patch+json 95
2019-08-15 14:13:06.202 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI)'
2019-08-15 14:13:06.202 +02:00 [INF] Route matched with {action = "UpdateAdres", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAdres(System.Guid, Klient.WebAPI.Models.UpdateAdresModel) on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 14:13:06.205 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:13:06.205 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:13:06.215 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Model_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [adres].[Id], [adres].[Miasto], [adres].[NrDomu], [adres].[NrMieszkania], [adres].[Ulica]
FROM [Adres] AS [adres]
WHERE [adres].[Id] = @__request_Model_Id_0
2019-08-15 14:13:06.216 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Adres] SET [Miasto] = @p0, [NrDomu] = @p1, [NrMieszkania] = @p2, [Ulica] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
2019-08-15 14:13:06.227 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 22.4072ms.
2019-08-15 14:13:06.227 +02:00 [INF] Executing ObjectResult, writing value of type 'MediatR.Unit'.
2019-08-15 14:13:06.228 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI) in 25.5363ms
2019-08-15 14:13:06.228 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.UpdateAdres (Klient.WebAPI)'
2019-08-15 14:13:06.228 +02:00 [INF] Request finished in 26.3776ms 200 application/json; charset=utf-8
2019-08-15 14:13:16.400 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 14:13:16.400 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:13:16.400 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 14:13:16.400 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:13:16.401 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:13:16.402 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 14:13:16.403 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.0555ms.
2019-08-15 14:13:16.403 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:13:16.403 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 2.4907ms
2019-08-15 14:13:16.403 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:13:16.403 +02:00 [INF] Request finished in 2.7815ms 200 application/json; charset=utf-8
2019-08-15 14:13:40.013 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 20
2019-08-15 14:13:40.013 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:13:40.013 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:13:40.015 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:13:40.015 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:13:40.023 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:13:40.027 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [AdresId] = @p0, [Imie] = @p1, [Nazwisko] = @p2, [Pesel] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;
System.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:cb01cc94-cd83-4d10-b5a9-d590cd82641a
Error Number:515,State:2,Class:16
2019-08-15 14:13:40.029 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Klient.Model.DataContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-08-15 14:13:40.085 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 71.3379ms
2019-08-15 14:13:40.085 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:13:40.085 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Nazwisko', table 'KlientApp.dbo.Klient'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Klient.DAO.Handlers.Commands.UpdateKlientCommandHandler.Handle(UpdateKlientCommand request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Commands\UpdateKlientCommandHandler.cs:line 37
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 14:13:40.093 +02:00 [INF] Request finished in 80.6645ms 500 text/html; charset=utf-8
2019-08-15 14:13:53.238 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 14:13:53.582 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 14:13:53.589 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 14:13:53.712 +02:00 [INF] HTTP GET /index.html responded 200 in 85.58420000000001 ms
2019-08-15 14:13:53.720 +02:00 [INF] Request finished in 139.2919ms 200 text/html
2019-08-15 14:13:53.790 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 14:13:53.859 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.0514 ms
2019-08-15 14:13:53.859 +02:00 [INF] Request finished in 69.3892ms 200 application/json;charset=utf-8
2019-08-15 14:14:08.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 14:14:08.235 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:14:08.250 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:14:08.256 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:14:08.436 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:14:08.588 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 14:14:08.622 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 362.8408ms.
2019-08-15 14:14:08.628 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:14:08.634 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 382.57ms
2019-08-15 14:14:08.635 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:14:08.636 +02:00 [INF] Request finished in 405.1142ms 200 application/json; charset=utf-8
2019-08-15 14:15:24.371 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968 application/json-patch+json 122
2019-08-15 14:15:24.374 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:15:24.384 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:15:24.403 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:15:24.434 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:15:24.458 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 14:15:24.498 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [Imie] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2019-08-15 14:15:24.509 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 106.1982ms.
2019-08-15 14:15:24.510 +02:00 [INF] Executing ObjectResult, writing value of type 'MediatR.Unit'.
2019-08-15 14:15:24.510 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 125.6366ms
2019-08-15 14:15:24.510 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 14:15:24.510 +02:00 [INF] Request finished in 139.5782ms 200 application/json; charset=utf-8
2019-08-15 14:15:31.736 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 14:15:31.736 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:15:31.736 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 14:15:31.736 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:15:31.736 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:15:31.738 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 14:15:31.739 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.5382000000000002ms.
2019-08-15 14:15:31.739 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:15:31.739 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 3.0459ms
2019-08-15 14:15:31.739 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 14:15:31.739 +02:00 [INF] Request finished in 3.5364ms 200 application/json; charset=utf-8
2019-08-15 14:15:53.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 14:15:53.514 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:15:53.516 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 14:15:53.517 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 14:15:53.521 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 14:15:53.533 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 14:15:53.537 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.029700000000002ms.
2019-08-15 14:15:53.537 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 14:15:53.538 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 21.8183ms
2019-08-15 14:15:53.539 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 14:15:53.540 +02:00 [INF] Request finished in 24.7636ms 200 application/json; charset=utf-8
2019-08-15 14:57:54.610 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 14:57:54.961 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 14:57:54.968 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 14:57:55.090 +02:00 [INF] HTTP GET /index.html responded 200 in 85.7455 ms
2019-08-15 14:57:55.096 +02:00 [INF] Request finished in 136.2529ms 200 text/html
2019-08-15 14:57:55.172 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 14:57:55.242 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.5462 ms
2019-08-15 14:57:55.242 +02:00 [INF] Request finished in 69.8911ms 200 application/json;charset=utf-8
2019-08-15 14:58:46.811 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger-ui-bundle.js.map  
2019-08-15 14:58:46.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger-ui-standalone-preset.js.map  
2019-08-15 14:58:46.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger-ui.css.map  
2019-08-15 14:58:46.860 +02:00 [INF] Sending file. Request path: '/swagger-ui.css.map'. Physical path: 'N/A'
2019-08-15 14:58:46.860 +02:00 [INF] HTTP GET /swagger-ui.css.map responded 200 in 39.1072 ms
2019-08-15 14:58:46.860 +02:00 [INF] Request finished in 39.2912ms 200 text/plain
2019-08-15 14:58:46.888 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js.map'. Physical path: 'N/A'
2019-08-15 14:58:46.889 +02:00 [INF] HTTP GET /swagger-ui-standalone-preset.js.map responded 200 in 72.825 ms
2019-08-15 14:58:46.891 +02:00 [INF] Request finished in 74.9209ms 200 text/plain
2019-08-15 14:58:46.905 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js.map'. Physical path: 'N/A'
2019-08-15 14:58:46.905 +02:00 [INF] HTTP GET /swagger-ui-bundle.js.map responded 200 in 93.808500000000009 ms
2019-08-15 14:58:46.905 +02:00 [INF] Request finished in 94.0788ms 200 text/plain
2019-08-15 15:09:56.434 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 15:09:56.776 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 15:09:56.783 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 15:09:56.907 +02:00 [INF] HTTP GET /index.html responded 200 in 87.2573 ms
2019-08-15 15:09:56.913 +02:00 [INF] Request finished in 138.2788ms 200 text/html
2019-08-15 15:09:56.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 15:09:57.055 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.2487 ms
2019-08-15 15:09:57.055 +02:00 [INF] Request finished in 69.5965ms 200 application/json;charset=utf-8
2019-08-15 15:10:13.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 15:10:13.730 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:10:13.746 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:10:13.752 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:10:13.986 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:10:14.132 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 15:10:14.166 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 410.8527ms.
2019-08-15 15:10:14.173 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 15:10:14.179 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 431.2957ms
2019-08-15 15:10:14.180 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:10:14.181 +02:00 [INF] Request finished in 454.3795ms 200 application/json; charset=utf-8
2019-08-15 15:10:56.021 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/b65cc7d3-b6aa-4c80-73a9-08d7190ee968 application/json-patch+json 133
2019-08-15 15:10:56.024 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:10:56.034 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:10:56.051 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:10:56.098 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 63.7395ms
2019-08-15 15:10:56.098 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:10:56.098 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Handler was not found for request of type MediatR.IRequestHandler`2[Klient.DAO.Models.UpdateKlientCommandModel,MediatR.Unit]. Register your handlers with the container. See the samples in GitHub for examples.
   at MediatR.Internal.RequestHandlerBase.GetHandler[THandler](ServiceFactory factory)
   at MediatR.Internal.RequestHandlerWrapperImpl`2.<>c__DisplayClass0_0.<Handle>g__Handler|0()
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.UpdateKlient(Guid id, UpdateKlientModel model) in C:\Users\Szymon\source\repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 48
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 15:10:56.153 +02:00 [INF] Request finished in 131.1297ms 500 text/html; charset=utf-8
2019-08-15 15:11:59.151 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 15:11:59.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 15:11:59.501 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 15:11:59.624 +02:00 [INF] HTTP GET /index.html responded 200 in 86.9655 ms
2019-08-15 15:11:59.630 +02:00 [INF] Request finished in 137.55ms 200 text/html
2019-08-15 15:11:59.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 15:11:59.773 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 71.1005 ms
2019-08-15 15:11:59.773 +02:00 [INF] Request finished in 71.4502ms 200 application/json;charset=utf-8
2019-08-15 15:12:14.863 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 15:12:14.866 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:14.882 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:12:14.888 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:12:15.121 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:12:15.269 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 15:12:15.305 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 414.3199ms.
2019-08-15 15:12:15.312 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 15:12:15.319 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 435.3775ms
2019-08-15 15:12:15.320 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:15.321 +02:00 [INF] Request finished in 458.1647ms 200 application/json; charset=utf-8
2019-08-15 15:12:30.744 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/b65cc7d3-b6aa-4c80-73a9-08d7190ee968 application/json-patch+json 131
2019-08-15 15:12:30.744 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:12:30.753 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:12:30.770 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:12:30.793 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:12:30.819 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 15:12:30.841 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71.7656ms.
2019-08-15 15:12:30.842 +02:00 [INF] Executing ObjectResult, writing value of type 'MediatR.Unit'.
2019-08-15 15:12:30.842 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 88.806400000000011ms
2019-08-15 15:12:30.842 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:12:30.842 +02:00 [INF] Request finished in 98.7915ms 200 application/json; charset=utf-8
2019-08-15 15:12:37.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 15:12:37.227 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:37.227 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:12:37.227 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:12:37.227 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:12:37.229 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 15:12:37.230 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.54ms.
2019-08-15 15:12:37.230 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 15:12:37.230 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 2.9273000000000002ms
2019-08-15 15:12:37.230 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:37.230 +02:00 [INF] Request finished in 3.3871ms 200 application/json; charset=utf-8
2019-08-15 15:12:47.188 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:2036/api/Klient/b65cc7d3-b6aa-4c80-73a9-08d7190ee968 application/json-patch+json 133
2019-08-15 15:12:47.188 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:12:47.188 +02:00 [INF] Route matched with {action = "UpdateKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateKlient(System.Guid, Klient.WebAPI.Models.UpdateKlientModel) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:12:47.188 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:12:47.189 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:12:47.191 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request_Id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request_Id_0
2019-08-15 15:12:47.213 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Klient] SET [Imie] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;
2019-08-15 15:12:47.227 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 38.3487ms.
2019-08-15 15:12:47.227 +02:00 [INF] Executing ObjectResult, writing value of type 'MediatR.Unit'.
2019-08-15 15:12:47.227 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI) in 39.1607ms
2019-08-15 15:12:47.227 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.UpdateKlient (Klient.WebAPI)'
2019-08-15 15:12:47.227 +02:00 [INF] Request finished in 39.4833ms 200 application/json; charset=utf-8
2019-08-15 15:12:49.774 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 15:12:49.774 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:49.774 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 15:12:49.775 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 15:12:49.775 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 15:12:49.776 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 15:12:49.777 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.2305ms.
2019-08-15 15:12:49.777 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 15:12:49.777 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 2.6405000000000003ms
2019-08-15 15:12:49.777 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 15:12:49.777 +02:00 [INF] Request finished in 2.9499ms 200 application/json; charset=utf-8
2019-08-15 17:05:20.083 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 17:05:20.457 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 17:05:20.465 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 17:05:20.593 +02:00 [INF] HTTP GET /index.html responded 200 in 90.3771 ms
2019-08-15 17:05:20.598 +02:00 [INF] Request finished in 141.7768ms 200 text/html
2019-08-15 17:05:20.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 17:05:20.741 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.644100000000009 ms
2019-08-15 17:05:20.741 +02:00 [INF] Request finished in 70.0003ms 200 application/json;charset=utf-8
2019-08-15 17:05:29.846 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 17:05:29.849 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:05:29.865 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:05:30.001 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:05:30.229 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:05:30.379 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 17:05:30.412 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 408.752ms.
2019-08-15 17:05:30.419 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 17:05:30.426 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 558.91230000000007ms
2019-08-15 17:05:30.426 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:05:30.428 +02:00 [INF] Request finished in 581.3378ms 200 application/json; charset=utf-8
2019-08-15 17:05:41.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968  
2019-08-15 17:05:41.080 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:05:41.088 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:05:41.095 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:05:41.108 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:05:41.133 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:05:41.148 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.8337ms.
2019-08-15 17:05:41.148 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 17:05:41.149 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 60.7453ms
2019-08-15 17:05:41.149 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:05:41.149 +02:00 [INF] Request finished in 70.0274ms 200 application/json; charset=utf-8
2019-08-15 17:06:30.560 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 17:06:30.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 17:06:30.908 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 17:06:31.030 +02:00 [INF] HTTP GET /index.html responded 200 in 86.0824 ms
2019-08-15 17:06:31.036 +02:00 [INF] Request finished in 135.9383ms 200 text/html
2019-08-15 17:06:31.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 17:06:31.178 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.3092 ms
2019-08-15 17:06:31.178 +02:00 [INF] Request finished in 69.686ms 200 application/json;charset=utf-8
2019-08-15 17:06:35.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968  
2019-08-15 17:06:35.344 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:06:35.366 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:06:35.508 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:06:35.741 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:06:35.905 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:06:35.949 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 438.01070000000004ms.
2019-08-15 17:06:35.956 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 17:06:35.962 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 594.6226ms
2019-08-15 17:06:35.963 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:06:35.964 +02:00 [INF] Request finished in 623.0459ms 200 application/json; charset=utf-8
2019-08-15 17:21:35.674 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 17:21:36.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 17:21:36.024 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 17:21:36.152 +02:00 [INF] HTTP GET /index.html responded 200 in 90.7249 ms
2019-08-15 17:21:36.158 +02:00 [INF] Request finished in 142.6891ms 200 text/html
2019-08-15 17:21:36.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 17:21:36.302 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 68.8003 ms
2019-08-15 17:21:36.302 +02:00 [INF] Request finished in 69.1305ms 200 application/json;charset=utf-8
2019-08-15 17:21:44.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 17:21:44.020 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:21:44.036 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:21:44.084 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:21:44.325 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:21:44.482 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 17:21:44.517 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 429.7534ms.
2019-08-15 17:21:44.524 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 17:21:44.530 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 491.62100000000004ms
2019-08-15 17:21:44.530 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:21:44.532 +02:00 [INF] Request finished in 514.9691ms 200 application/json; charset=utf-8
2019-08-15 17:21:52.068 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968  
2019-08-15 17:21:52.068 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:21:52.076 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:21:52.082 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:21:52.095 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:21:52.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:21:52.189 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 112.4205ms
2019-08-15 17:21:52.189 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:21:52.190 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
KlientEntity -> KlientDTO
Klient.Model.Entities.KlientEntity -> Klient.DTO.Models.KlientDTO
   at lambda_method(Closure , KlientEntity , KlientDTO , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 35
   at Klient.WebAPI.Controllers.KlientController.GetKlient(Guid id) in C:\Users\Szymon\Source\Repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 46
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-08-15 17:21:52.258 +02:00 [INF] Request finished in 190.6422ms 500 text/html; charset=utf-8
2019-08-15 17:43:58.982 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 17:43:59.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 17:43:59.330 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 17:43:59.451 +02:00 [INF] HTTP GET /index.html responded 200 in 85.5766 ms
2019-08-15 17:43:59.457 +02:00 [INF] Request finished in 135.8876ms 200 text/html
2019-08-15 17:43:59.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 17:43:59.600 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 68.47760000000001 ms
2019-08-15 17:43:59.600 +02:00 [INF] Request finished in 68.885ms 200 application/json;charset=utf-8
2019-08-15 17:44:03.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 17:44:03.598 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:44:03.613 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:44:03.771 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:44:04.014 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:44:04.164 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 17:44:04.198 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 424.0208ms.
2019-08-15 17:44:04.205 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 17:44:04.211 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 596.0643ms
2019-08-15 17:44:04.212 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:44:04.214 +02:00 [INF] Request finished in 618.4567ms 200 application/json; charset=utf-8
2019-08-15 17:44:13.613 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/401e1832-436a-43dd-73a8-08d7190ee968  
2019-08-15 17:44:13.613 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:44:13.622 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:44:13.628 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:44:13.637 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:44:13.664 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:44:13.676 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 48.178200000000004ms.
2019-08-15 17:44:13.676 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 17:44:13.677 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 55.6374ms
2019-08-15 17:44:13.677 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:44:13.677 +02:00 [INF] Request finished in 64.732ms 200 application/json; charset=utf-8
2019-08-15 17:44:35.517 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/163f3251-c82b-439f-1a93-08d719ddff5b  
2019-08-15 17:44:35.517 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:44:35.518 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:44:35.518 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:44:35.518 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:44:35.521 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:44:35.528 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.0548ms.
2019-08-15 17:44:35.528 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 17:44:35.528 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 10.7184ms
2019-08-15 17:44:35.528 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:44:35.529 +02:00 [INF] Request finished in 11.2238ms 200 application/json; charset=utf-8
2019-08-15 17:46:57.115 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 17:46:57.463 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 17:46:57.470 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 17:46:57.595 +02:00 [INF] HTTP GET /index.html responded 200 in 88.22120000000001 ms
2019-08-15 17:46:57.601 +02:00 [INF] Request finished in 139.0389ms 200 text/html
2019-08-15 17:46:57.671 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 17:46:57.744 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 72.7351 ms
2019-08-15 17:46:57.744 +02:00 [INF] Request finished in 73.0911ms 200 application/json;charset=utf-8
2019-08-15 17:47:03.190 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/163f3251-c82b-439f-1a93-08d719ddff5b  
2019-08-15 17:47:03.195 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:47:03.218 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:47:03.377 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:47:03.614 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:47:03.797 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 17:47:03.842 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 462.83110000000005ms.
2019-08-15 17:47:03.849 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 17:47:03.856 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 636.0139ms
2019-08-15 17:47:03.857 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 17:47:03.858 +02:00 [INF] Request finished in 668.5929ms 200 application/json; charset=utf-8
2019-08-15 17:47:15.066 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 17:47:15.067 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:47:15.069 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 17:47:15.069 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:47:15.074 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:47:15.086 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 17:47:15.090 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 20.7366ms.
2019-08-15 17:47:15.090 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 17:47:15.092 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 23.072100000000002ms
2019-08-15 17:47:15.092 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 17:47:15.092 +02:00 [INF] Request finished in 26.4805ms 200 application/json; charset=utf-8
2019-08-15 17:47:37.174 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 17:47:37.174 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 17:47:37.199 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 17:47:37.199 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:47:37.203 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:47:37.214 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 17:47:37.225 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 25.253300000000003ms.
2019-08-15 17:47:37.225 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 17:47:37.226 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 27.231ms
2019-08-15 17:47:37.226 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 17:47:37.227 +02:00 [INF] Request finished in 52.3592ms 200 application/json; charset=utf-8
2019-08-15 17:47:45.242 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres/e24f2861-9edc-4f53-1bb1-08d719ddce38  
2019-08-15 17:47:45.242 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI)'
2019-08-15 17:47:45.245 +02:00 [INF] Route matched with {action = "GetAdres", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Klient.Model.Entities.AdresEntity]] GetAdres(System.Guid) on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 17:47:45.245 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 17:47:45.249 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 17:47:45.254 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [adres].[Id], [adres].[Miasto], [adres].[NrDomu], [adres].[NrMieszkania], [adres].[Ulica]
FROM [Adres] AS [adres]
WHERE [adres].[Id] = @__request__id_0
2019-08-15 17:47:45.256 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 10.6218ms.
2019-08-15 17:47:45.256 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.Model.Entities.AdresEntity'.
2019-08-15 17:47:45.256 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI) in 11.2367ms
2019-08-15 17:47:45.256 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI)'
2019-08-15 17:47:45.256 +02:00 [INF] Request finished in 13.9207ms 200 application/json; charset=utf-8
2019-08-15 17:51:33.937 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:20:43.062 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:24:31.465 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:24:39.271 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:28:21.080 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:28:31.193 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
System.Data.SqlClient.SqlException (0x80131904): Cannot create file 'C:\Program Files\Microsoft SQL Server\MSSQL14.SQLEXPRESS\MSSQL\DATA\KlientApp.mdf' because it already exists. Change the file path or the file name, and retry the operation.
CREATE DATABASE failed. Some file names listed could not be created. Check related errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:c1a357a7-f35a-43fd-b150-9aaf3a9be343
Error Number:5170,State:4,Class:16
2019-08-15 18:28:46.281 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:28:56.387 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
System.Data.SqlClient.SqlException (0x80131904): Cannot create file 'C:\Program Files\Microsoft SQL Server\MSSQL14.SQLEXPRESS\MSSQL\DATA\KlientApp.mdf' because it already exists. Change the file path or the file name, and retry the operation.
CREATE DATABASE failed. Some file names listed could not be created. Check related errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:f104a1da-895c-4bce-895a-c82a1aa805f8
Error Number:5170,State:4,Class:16
2019-08-15 18:30:15.649 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:30:25.889 +02:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
2019-08-15 18:30:25.925 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KlientApp] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-08-15 18:30:25.954 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2019-08-15 18:30:25.959 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:30:25.961 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:30:25.965 +02:00 [INF] Applying migration '20190815162439_Init'.
2019-08-15 18:30:25.973 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Klient] (
    [Id] uniqueidentifier NOT NULL,
    [Pesel] nvarchar(max) NULL,
    [Imie] nvarchar(max) NULL,
    [Nazwisko] nvarchar(max) NULL,
    CONSTRAINT [PK_Klient] PRIMARY KEY ([Id])
);
2019-08-15 18:30:25.976 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    [KlientId] uniqueidentifier NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Adres_Klient_KlientId] FOREIGN KEY ([KlientId]) REFERENCES [Klient] ([Id]) ON DELETE CASCADE
);
2019-08-15 18:30:25.979 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Adres_KlientId] ON [Adres] ([KlientId]);
2019-08-15 18:30:25.980 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815162439_Init', N'2.2.6-servicing-10079');
2019-08-15 18:34:26.061 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:34:36.170 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
System.Data.SqlClient.SqlException (0x80131904): Cannot create file 'C:\Program Files\Microsoft SQL Server\MSSQL14.SQLEXPRESS\MSSQL\DATA\KlientApp_log.ldf' because it already exists. Change the file path or the file name, and retry the operation.
CREATE DATABASE failed. Some file names listed could not be created. Check related errors.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:fc8103e2-7a92-4def-9c02-f67453e0b8c8
Error Number:5170,State:4,Class:16
2019-08-15 18:34:52.612 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:35:02.882 +02:00 [INF] Executed DbCommand (163ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
2019-08-15 18:35:02.917 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KlientApp] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-08-15 18:35:02.947 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2019-08-15 18:35:02.951 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:35:02.953 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:35:02.958 +02:00 [INF] Applying migration '20190815162439_Init'.
2019-08-15 18:35:02.966 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Klient] (
    [Id] uniqueidentifier NOT NULL,
    [Pesel] nvarchar(max) NULL,
    [Imie] nvarchar(max) NULL,
    [Nazwisko] nvarchar(max) NULL,
    CONSTRAINT [PK_Klient] PRIMARY KEY ([Id])
);
2019-08-15 18:35:02.969 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    [KlientId] uniqueidentifier NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Adres_Klient_KlientId] FOREIGN KEY ([KlientId]) REFERENCES [Klient] ([Id]) ON DELETE CASCADE
);
2019-08-15 18:35:02.972 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Adres_KlientId] ON [Adres] ([KlientId]);
2019-08-15 18:35:02.975 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815162439_Init', N'2.2.6-servicing-10079');
2019-08-15 18:36:02.621 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 18:36:02.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 18:36:02.979 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 18:36:03.101 +02:00 [INF] HTTP GET /index.html responded 200 in 86.2993 ms
2019-08-15 18:36:03.107 +02:00 [INF] Request finished in 136.0213ms 200 text/html
2019-08-15 18:36:03.180 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 18:36:03.250 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.20620000000001 ms
2019-08-15 18:36:03.250 +02:00 [INF] Request finished in 70.5661ms 200 application/json;charset=utf-8
2019-08-15 18:36:06.649 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 18:36:06.652 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 18:36:06.669 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 18:36:06.675 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:36:06.907 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:36:07.030 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[KlientId], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 18:36:07.046 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 368.91470000000004ms.
2019-08-15 18:36:07.054 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 18:36:07.059 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 389.0133ms
2019-08-15 18:36:07.060 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 18:36:07.061 +02:00 [INF] Request finished in 412.7397ms 200 application/json; charset=utf-8
2019-08-15 18:36:24.042 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 18:36:24.042 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:36:24.045 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 18:36:24.189 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:36:24.194 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:36:24.209 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 18:36:24.212 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.426000000000002ms.
2019-08-15 18:36:24.213 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 18:36:24.213 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 168.6303ms
2019-08-15 18:36:24.213 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:36:24.213 +02:00 [INF] Request finished in 171.8734ms 200 application/json; charset=utf-8
2019-08-15 18:43:27.429 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 18:43:27.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 18:43:27.776 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 18:43:27.902 +02:00 [INF] HTTP GET /index.html responded 200 in 89.0882 ms
2019-08-15 18:43:27.907 +02:00 [INF] Request finished in 139.1268ms 200 text/html
2019-08-15 18:43:27.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 18:43:28.048 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 67.849 ms
2019-08-15 18:43:28.048 +02:00 [INF] Request finished in 68.204ms 200 application/json;charset=utf-8
2019-08-15 18:43:31.245 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 18:43:31.250 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 18:43:31.266 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 18:43:31.272 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:43:31.501 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:43:31.622 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[KlientId], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 18:43:31.661 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 386.07160000000005ms.
2019-08-15 18:43:31.668 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 18:43:31.674 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 406.50010000000003ms
2019-08-15 18:43:31.675 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 18:43:31.676 +02:00 [INF] Request finished in 431.258ms 200 application/json; charset=utf-8
2019-08-15 18:43:44.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 18:43:44.303 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:43:44.305 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 18:43:44.447 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:43:44.453 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:43:44.467 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 18:43:44.480 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.9924ms.
2019-08-15 18:43:44.481 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 18:43:44.483 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 178.1969ms
2019-08-15 18:43:44.483 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:43:44.484 +02:00 [INF] Request finished in 181.5458ms 200 application/json; charset=utf-8
2019-08-15 18:43:59.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/e411e46e-f623-496b-bda5-8449c5f875ce  
2019-08-15 18:43:59.426 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 18:43:59.435 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 18:43:59.441 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:43:59.444 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:43:59.466 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 18:43:59.480 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.8584ms.
2019-08-15 18:43:59.481 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 18:43:59.482 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 47.1961ms
2019-08-15 18:43:59.482 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 18:43:59.482 +02:00 [INF] Request finished in 55.9833ms 200 application/json; charset=utf-8
2019-08-15 18:49:59.949 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:50:16.918 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:50:17.003 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:50:17.009 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:50:17.013 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:50:17.018 +02:00 [INF] Applying migration '20190815165000_Init2'.
2019-08-15 18:50:17.036 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Pesel');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Pesel] nvarchar(max) NULL;
2019-08-15 18:50:17.045 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Nazwisko');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Nazwisko] nvarchar(max) NULL;
2019-08-15 18:50:17.055 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Imie');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Imie] nvarchar(max) NULL;
2019-08-15 18:50:17.064 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Ulica');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Ulica] nvarchar(max) NULL;
2019-08-15 18:50:17.073 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'NrDomu');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Adres] ALTER COLUMN [NrDomu] nvarchar(max) NULL;
2019-08-15 18:50:17.082 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Miasto');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Miasto] nvarchar(max) NULL;
2019-08-15 18:50:17.085 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815165000_Init2', N'2.2.6-servicing-10079');
2019-08-15 18:50:53.595 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 18:50:53.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 18:50:53.947 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 18:50:54.068 +02:00 [INF] HTTP GET /index.html responded 200 in 84.985300000000009 ms
2019-08-15 18:50:54.074 +02:00 [INF] Request finished in 135.5057ms 200 text/html
2019-08-15 18:50:54.145 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 18:50:54.214 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 68.7599 ms
2019-08-15 18:50:54.214 +02:00 [INF] Request finished in 69.1003ms 200 application/json;charset=utf-8
2019-08-15 18:50:58.819 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 18:50:58.821 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:50:58.838 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 18:50:58.987 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 18:50:59.223 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:50:59.343 +02:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AdresId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:beac801c-62b3-43e3-8b34-e0c77f524b8d
Error Number:207,State:1,Class:16
2019-08-15 18:50:59.391 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Klient.Model.DataContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AdresId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
ClientConnectionId:beac801c-62b3-43e3-8b34-e0c77f524b8d
Error Number:207,State:1,Class:16
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AdresId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
ClientConnectionId:beac801c-62b3-43e3-8b34-e0c77f524b8d
Error Number:207,State:1,Class:16
2019-08-15 18:50:59.474 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 635.0565ms
2019-08-15 18:50:59.475 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 18:50:59.477 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AdresId'.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.BufferlessMoveNext(DbContext _, Boolean buffer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncQueryingEnumerable`1.AsyncEnumerator.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Select.cs:line 106
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\AsyncIterator.cs:line 98
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.Aggregate_[TSource,TAccumulate,TResult](IAsyncEnumerable`1 source, TAccumulate seed, Func`3 accumulator, Func`2 resultSelector, CancellationToken cancellationToken) in D:\a\1\s\Ix.NET\Source\System.Interactive.Async\Aggregate.cs:line 120
   at Klient.DAO.Handlers.Queries.GetKlienciQueryHandler.Handle(GetKlienciQuery request, CancellationToken cancellationToken) in C:\Users\Szymon\source\repos\Klient\Klient.DAO\Handlers\Queries\GetKlienciQueryHandler.cs:line 25
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Klient.WebAPI.Controllers.KlientController.GetKlienci() in C:\Users\Szymon\Source\Repos\Klient\Klient.WebAPI\Controllers\KlientController.cs:line 35
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
ClientConnectionId:beac801c-62b3-43e3-8b34-e0c77f524b8d
Error Number:207,State:1,Class:16
2019-08-15 18:50:59.525 +02:00 [INF] Request finished in 706.1408ms 500 text/html; charset=utf-8
2019-08-15 18:53:28.324 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:53:38.515 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
2019-08-15 18:53:38.549 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KlientApp] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-08-15 18:53:38.579 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2019-08-15 18:53:38.583 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:53:38.585 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:53:38.590 +02:00 [INF] Applying migration '20190815162439_Init'.
2019-08-15 18:53:38.597 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Klient] (
    [Id] uniqueidentifier NOT NULL,
    [Pesel] nvarchar(max) NULL,
    [Imie] nvarchar(max) NULL,
    [Nazwisko] nvarchar(max) NULL,
    CONSTRAINT [PK_Klient] PRIMARY KEY ([Id])
);
2019-08-15 18:53:38.600 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    [KlientId] uniqueidentifier NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Adres_Klient_KlientId] FOREIGN KEY ([KlientId]) REFERENCES [Klient] ([Id]) ON DELETE CASCADE
);
2019-08-15 18:53:38.602 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Adres_KlientId] ON [Adres] ([KlientId]);
2019-08-15 18:53:38.605 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815162439_Init', N'2.2.6-servicing-10079');
2019-08-15 18:53:38.608 +02:00 [INF] Applying migration '20190815165000_Init2'.
2019-08-15 18:53:38.632 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Pesel');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Pesel] nvarchar(max) NULL;
2019-08-15 18:53:38.641 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Nazwisko');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Nazwisko] nvarchar(max) NULL;
2019-08-15 18:53:38.650 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Imie');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Imie] nvarchar(max) NULL;
2019-08-15 18:53:38.660 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Ulica');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Ulica] nvarchar(max) NULL;
2019-08-15 18:53:38.668 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'NrDomu');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Adres] ALTER COLUMN [NrDomu] nvarchar(max) NULL;
2019-08-15 18:53:38.677 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Miasto');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Miasto] nvarchar(max) NULL;
2019-08-15 18:53:38.680 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815165000_Init2', N'2.2.6-servicing-10079');
2019-08-15 18:54:46.065 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:55:18.888 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:55:18.975 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:55:18.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:55:18.984 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:55:18.989 +02:00 [INF] Applying migration '20190815165446_Init'.
2019-08-15 18:55:18.999 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Adres' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:b95de752-446f-4809-a79d-bcdb0a316653
Error Number:2714,State:6,Class:16
2019-08-15 18:57:13.119 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:57:23.225 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
System.Data.SqlClient.SqlException (0x80131904): Database 'KlientApp' already exists. Choose a different database name.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:9144b271-62a3-4587-a0ca-502fcd096700
Error Number:1801,State:3,Class:16
2019-08-15 18:57:44.706 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 18:57:54.895 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
2019-08-15 18:57:54.928 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KlientApp] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-08-15 18:57:54.957 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2019-08-15 18:57:54.961 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 18:57:54.964 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 18:57:54.968 +02:00 [INF] Applying migration '20190815165446_Init'.
2019-08-15 18:57:54.976 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id])
);
2019-08-15 18:57:54.979 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Klient] (
    [Id] uniqueidentifier NOT NULL,
    [Pesel] nvarchar(max) NULL,
    [Imie] nvarchar(max) NULL,
    [Nazwisko] nvarchar(max) NULL,
    [AdresId] uniqueidentifier NULL,
    CONSTRAINT [PK_Klient] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Klient_Adres_AdresId] FOREIGN KEY ([AdresId]) REFERENCES [Adres] ([Id]) ON DELETE CASCADE
);
2019-08-15 18:57:54.981 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Klient_AdresId] ON [Klient] ([AdresId]);
2019-08-15 18:57:54.983 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190815165446_Init', N'2.2.6-servicing-10079');
2019-08-15 19:09:05.595 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:09:05.707 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 19:09:05.713 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 19:09:05.717 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 19:09:05.721 +02:00 [INF] Applying migration '20190803222517_InitialCreate'.
2019-08-15 19:09:05.733 +02:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id])
);
System.Data.SqlClient.SqlException (0x80131904): There is already an object named 'Adres' in the database.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean async, Int32 timeout, Boolean asyncWrite)
   at System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite, String methodName)
   at System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:32c2be46-d293-4b84-bdc6-a83fc69e2b5f
Error Number:2714,State:6,Class:16
2019-08-15 19:13:35.591 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 19:13:35.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 19:13:35.951 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 19:13:36.076 +02:00 [INF] HTTP GET /index.html responded 200 in 88.3275 ms
2019-08-15 19:13:36.083 +02:00 [INF] Request finished in 139.8338ms 200 text/html
2019-08-15 19:13:36.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 19:13:36.234 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 73.4073 ms
2019-08-15 19:13:36.234 +02:00 [INF] Request finished in 73.8014ms 200 application/json;charset=utf-8
2019-08-15 19:27:17.106 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:27:27.299 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [KlientApp];
2019-08-15 19:27:27.331 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [KlientApp] SET READ_COMMITTED_SNAPSHOT ON;
END;
2019-08-15 19:27:27.359 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2019-08-15 19:27:27.363 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2019-08-15 19:27:27.364 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2019-08-15 19:27:27.369 +02:00 [INF] Applying migration '20190803222517_InitialCreate'.
2019-08-15 19:27:27.378 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Adres] (
    [Id] uniqueidentifier NOT NULL,
    [Ulica] nvarchar(max) NULL,
    [Miasto] nvarchar(max) NULL,
    [NrDomu] nvarchar(max) NULL,
    [NrMieszkania] nvarchar(max) NULL,
    CONSTRAINT [PK_Adres] PRIMARY KEY ([Id])
);
2019-08-15 19:27:27.381 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Klient] (
    [Id] uniqueidentifier NOT NULL,
    [Pesel] nvarchar(max) NULL,
    [Imie] nvarchar(max) NULL,
    [Nazwisko] nvarchar(max) NULL,
    [AdresId] uniqueidentifier NULL,
    CONSTRAINT [PK_Klient] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Klient_Adres_AdresId] FOREIGN KEY ([AdresId]) REFERENCES [Adres] ([Id]) ON DELETE NO ACTION
);
2019-08-15 19:27:27.395 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Miasto', N'NrDomu', N'NrMieszkania', N'Ulica') AND [object_id] = OBJECT_ID(N'[Adres]'))
    SET IDENTITY_INSERT [Adres] ON;
INSERT INTO [Adres] ([Id], [Miasto], [NrDomu], [NrMieszkania], [Ulica])
VALUES ('9b578c8c-8dd4-4fb7-a114-eecca9f4d5c4', N'Toru', N'22', N'1', N'Biaa');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Miasto', N'NrDomu', N'NrMieszkania', N'Ulica') AND [object_id] = OBJECT_ID(N'[Adres]'))
    SET IDENTITY_INSERT [Adres] OFF;
2019-08-15 19:27:27.403 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AdresId', N'Imie', N'Nazwisko', N'Pesel') AND [object_id] = OBJECT_ID(N'[Klient]'))
    SET IDENTITY_INSERT [Klient] ON;
INSERT INTO [Klient] ([Id], [AdresId], [Imie], [Nazwisko], [Pesel])
VALUES ('9f882bf5-446e-4407-90f5-cdc3dabe15f7', '9b578c8c-8dd4-4fb7-a114-eecca9f4d5c4', N'Szymek', N'Kolt', N'95232125123');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'AdresId', N'Imie', N'Nazwisko', N'Pesel') AND [object_id] = OBJECT_ID(N'[Klient]'))
    SET IDENTITY_INSERT [Klient] OFF;
2019-08-15 19:27:27.407 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Klient_AdresId] ON [Klient] ([AdresId]);
2019-08-15 19:27:27.409 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190803222517_InitialCreate', N'2.2.6-servicing-10079');
2019-08-15 19:27:27.411 +02:00 [INF] Applying migration '20190806183249_Init'.
2019-08-15 19:27:27.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Klient] DROP CONSTRAINT [FK_Klient_Adres_AdresId];
2019-08-15 19:27:27.419 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Klient]
WHERE [Id] = '9f882bf5-446e-4407-90f5-cdc3dabe15f7';
SELECT @@ROWCOUNT;
2019-08-15 19:27:27.421 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [Adres]
WHERE [Id] = '9b578c8c-8dd4-4fb7-a114-eecca9f4d5c4';
SELECT @@ROWCOUNT;
2019-08-15 19:27:27.441 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Pesel');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Pesel] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.450 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Nazwisko');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Nazwisko] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.460 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Klient]') AND [c].[name] = N'Imie');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Klient] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Klient] ALTER COLUMN [Imie] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.470 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Ulica');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Ulica] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.479 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'NrDomu');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Adres] ALTER COLUMN [NrDomu] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.489 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Adres]') AND [c].[name] = N'Miasto');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Adres] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Adres] ALTER COLUMN [Miasto] nvarchar(max) NOT NULL;
2019-08-15 19:27:27.492 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Klient] ADD CONSTRAINT [FK_Klient_Adres_AdresId] FOREIGN KEY ([AdresId]) REFERENCES [Adres] ([Id]) ON DELETE CASCADE;
2019-08-15 19:27:27.493 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190806183249_Init', N'2.2.6-servicing-10079');
2019-08-15 19:27:27.496 +02:00 [INF] Applying migration '20190807094429_1'.
2019-08-15 19:27:27.498 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20190807094429_1', N'2.2.6-servicing-10079');
2019-08-15 19:27:35.976 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 19:27:36.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 19:27:36.344 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 19:27:36.470 +02:00 [INF] HTTP GET /index.html responded 200 in 88.6199 ms
2019-08-15 19:27:36.476 +02:00 [INF] Request finished in 140.7688ms 200 text/html
2019-08-15 19:27:36.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 19:27:36.621 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 71.4106 ms
2019-08-15 19:27:36.621 +02:00 [INF] Request finished in 71.7694ms 200 application/json;charset=utf-8
2019-08-15 19:27:39.636 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 19:27:39.641 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 19:27:39.657 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 19:27:39.663 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:27:39.897 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:27:40.044 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 19:27:40.059 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 393.3328ms.
2019-08-15 19:27:40.066 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 19:27:40.072 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 412.95390000000003ms
2019-08-15 19:27:40.072 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 19:27:40.074 +02:00 [INF] Request finished in 438.1683ms 200 application/json; charset=utf-8
2019-08-15 19:27:45.966 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 19:27:45.967 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 19:27:45.969 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 19:27:46.110 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:27:46.115 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:27:46.139 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 19:27:46.141 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31.0681ms.
2019-08-15 19:27:46.141 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 19:27:46.142 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 172.57930000000002ms
2019-08-15 19:27:46.142 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 19:27:46.142 +02:00 [INF] Request finished in 175.8327ms 200 application/json; charset=utf-8
2019-08-15 19:33:45.251 +02:00 [INF] User profile is available. Using 'C:\Users\Szymon\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-15 19:33:45.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/index.html  
2019-08-15 19:33:45.603 +02:00 [WRN] Failed to determine the https port for redirect.
2019-08-15 19:33:45.728 +02:00 [INF] HTTP GET /index.html responded 200 in 88.220700000000008 ms
2019-08-15 19:33:45.733 +02:00 [INF] Request finished in 139.6809ms 200 text/html
2019-08-15 19:33:45.805 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/swagger/v1/swagger.json  
2019-08-15 19:33:45.875 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 70.098300000000009 ms
2019-08-15 19:33:45.876 +02:00 [INF] Request finished in 70.4708ms 200 application/json;charset=utf-8
2019-08-15 19:33:48.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres  
2019-08-15 19:33:48.860 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 19:33:48.876 +02:00 [INF] Route matched with {action = "GetAdreses", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Klient.Model.Entities.AdresEntity]]] GetAdreses() on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 19:33:48.883 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:33:49.118 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:33:49.239 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Miasto], [a].[NrDomu], [a].[NrMieszkania], [a].[Ulica]
FROM [Adres] AS [a]
2019-08-15 19:33:49.277 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 391.72040000000004ms.
2019-08-15 19:33:49.285 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.AdresEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 19:33:49.292 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI) in 413.6696ms
2019-08-15 19:33:49.293 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdreses (Klient.WebAPI)'
2019-08-15 19:33:49.294 +02:00 [INF] Request finished in 439.9934ms 200 application/json; charset=utf-8
2019-08-15 19:34:01.724 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Adres/bc5efa29-0d27-4cd0-8a40-00444569f9f3  
2019-08-15 19:34:01.725 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI)'
2019-08-15 19:34:01.735 +02:00 [INF] Route matched with {action = "GetAdres", controller = "Adres"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Klient.Model.Entities.AdresEntity]] GetAdres(System.Guid) on controller Klient.WebAPI.Controllers.AdresController (Klient.WebAPI).
2019-08-15 19:34:01.741 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:34:01.749 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:34:01.777 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [adres].[Id], [adres].[Miasto], [adres].[NrDomu], [adres].[NrMieszkania], [adres].[Ulica]
FROM [Adres] AS [adres]
WHERE [adres].[Id] = @__request__id_0
2019-08-15 19:34:01.782 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 40.9439ms.
2019-08-15 19:34:01.782 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.Model.Entities.AdresEntity'.
2019-08-15 19:34:01.782 +02:00 [INF] Executed action Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI) in 47.558800000000005ms
2019-08-15 19:34:01.782 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.AdresController.GetAdres (Klient.WebAPI)'
2019-08-15 19:34:01.782 +02:00 [INF] Request finished in 58.8306ms 200 application/json; charset=utf-8
2019-08-15 19:34:06.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient  
2019-08-15 19:34:06.081 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 19:34:06.083 +02:00 [INF] Route matched with {action = "GetKlienci", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlienci() on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 19:34:06.229 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:34:06.233 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:34:06.238 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [k].[Id], [k].[AdresId], [k].[Imie], [k].[Nazwisko], [k].[Pesel]
FROM [Klient] AS [k]
2019-08-15 19:34:06.244 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.744000000000002ms.
2019-08-15 19:34:06.244 +02:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Klient.Model.Entities.KlientEntity, Klient.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-08-15 19:34:06.245 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI) in 162.1749ms
2019-08-15 19:34:06.245 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlienci (Klient.WebAPI)'
2019-08-15 19:34:06.245 +02:00 [INF] Request finished in 164.8106ms 200 application/json; charset=utf-8
2019-08-15 19:34:23.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:2036/api/Klient/3272fefd-f8c0-4989-893f-04d85f610fee  
2019-08-15 19:34:23.341 +02:00 [INF] Executing endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 19:34:23.343 +02:00 [INF] Route matched with {action = "GetKlient", controller = "Klient"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetKlient(System.Guid) on controller Klient.WebAPI.Controllers.KlientController (Klient.WebAPI).
2019-08-15 19:34:23.343 +02:00 [INF] Executing action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) - Validation state: "Valid"
2019-08-15 19:34:23.348 +02:00 [INF] Entity Framework Core 2.2.6-servicing-10079 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2019-08-15 19:34:23.355 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__request__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [klient].[Id], [klient].[AdresId], [klient].[Imie], [klient].[Nazwisko], [klient].[Pesel]
FROM [Klient] AS [klient]
WHERE [klient].[Id] = @__request__id_0
2019-08-15 19:34:23.365 +02:00 [INF] Executed action method Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.486800000000002ms.
2019-08-15 19:34:23.365 +02:00 [INF] Executing ObjectResult, writing value of type 'Klient.DTO.Models.KlientDTO'.
2019-08-15 19:34:23.366 +02:00 [INF] Executed action Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI) in 23.1993ms
2019-08-15 19:34:23.366 +02:00 [INF] Executed endpoint 'Klient.WebAPI.Controllers.KlientController.GetKlient (Klient.WebAPI)'
2019-08-15 19:34:23.367 +02:00 [INF] Request finished in 26.0422ms 200 application/json; charset=utf-8
